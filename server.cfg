// "//" : "Вы можете использовать фиктивные записи, такие как это, для написания комментариев в конфигурации. Также поддерживаются 'rem' и '#' как комментарии."
// Но в последней версии сервера также поддерживаются однострочные комментарии в стиле C++.

//////////////////////////
// Основные параметры сервера //
//////////////////////////

// Уровень логирования сервера. Сообщения этого уровня и более важные будут записаны в лог. Может быть debug/info/warning/error.
logLevel : "info"

// Размер журнала игровых событий, хранящихся на сервере. Старые события будут удаляться по мере заполнения.
eventsLogSize : 10000

// Название сервера, оно будет отображаться в браузере серверов (когда реализовано), а также будет названием создаваемых сессий по умолчанию.
name : "RaceStars"

// Аутентификация пользователей через Steam для проверки VAC-бана, если установлено в true.
secure : true

// Пароль, необходимый для создания и присоединения к сессиям. Пароль, заданный в опциях создания, игнорируется в DS.
password : ""

// Максимальный размер сессий, которые могут быть созданы на этом сервере.
// Обратите внимание, что установка этого значения выше 16 позволит создавать сессии с непригодным для 32-битных клиентов количеством участников.
// Также в игре в настоящее время не поддерживаются сессии больше 32, даже если сервер сконфигурирован на до 64 игроков.
maxPlayerCount : 32

// IP-адрес, на котором должны быть привязаны сокеты сервера. Оставьте пустым для «все интерфейсы».
bindIP : ""

// Порты, используемые для связи с Steam и игрой, должны быть доступны на публичном IP сервера.
steamPort : 8766
hostPort : 27015
queryPort : 27016

// Задержка между тиками сервера в миллисекундах, когда он не хостит и когда хостит игру, соответственно.
// Меньшие значения сделают сервер более отзывчивым и немного уменьшат задержку за счет большего использования CPU.
sleepWaiting : 50
sleepActive : 10

// Sports Play будет использовать системные сокеты вместо API Steam для сетевых соединений. Рекомендуется для офлайн LAN-мероприятий.
// Используйте командный переключатель -sportsplay serverIp:hostPort на клиенте для хостинга и присоединения к играм на сервере sportsPlay.
sportsPlay: false

///////////////////////////
// Контроль доступа к серверу //
///////////////////////////

// ПРИМЕЧАНИЕ: Обычно не рекомендуется иметь эти настройки в конфигурации, это всего лишь пример.
// Особенно список белого и черного списков, использованный здесь, позволит только одному пользователю со Steam ID попасть на этот сервер — 76561197994111033.
// Используйте это как пример и изменяйте списки соответственно (скорее всего, удалите запись из whitelist или blacklist),
// или используйте вместо этого стандартный server.cfg, если не важна контроль доступа через списки.
 
// Черный список
// Любой в этом списке не будет допущен на сервер.
// Можно использовать массив или объект. Если значение — число, это Steam ID пользователя в черном списке.
// Если строка — это файл, из которого загружается черный список. Файл может содержать массив или объект, как в этом примере, или ссылаться на другие файлы.
// Здесь мы просто загружаем список из файла "blacklist.cfg"
blackList : [ "blacklist.cfg" ]

// Белый список
// Если он не пустой, то в сервер смогут попасть только участники из белого списка. В этом случае черный список игнорируется.
// Обычно лучше не использовать эти списки и управлять доступом через пароли, но если хотите контролировать доступ через белый список, оставьте его.
whiteList : [ "whitelist.cfg" ]


///////////////////////////
// Конфигурация HttpApi //
///////////////////////////

// Обеспечивает API через HTTP и базовое управление через встроенный HTTP-сервер.
// HttpApi отключен по умолчанию, и при включении с настройками по умолчанию он будет слушать только локально на 127.0.0.1:9000

// Включение/выключение.
enableHttpApi : true

// Уровень логирования для libwebsockets. Замечания и предупреждения.
httpApiLogLevel : "warning"

// Имя интерфейса или IP, на котором будет слушать локальный HTTP-сервер API.
httpApiInterface : "0.0.0.0"

// Порт, на котором слушает HTTP-сервер.
httpApiPort : 9000

// Дополнительные HTTP-заголовки для ответов API.
httpApiExtraHeaders : {
    "*" : "Access-Control-Allow-Origin: *"
}

// Переопределение уровня доступа к API.
// Каждый эндпоинт API по умолчанию имеет уровень доступа "public", "private" или "admin".
httpApiAccessLevels : {
    // По умолчанию используется уровень, определенный для каждого эндпоинта.

    // Можно, например, сделать все публичными (не рекомендуется!)
    // "*" : "public"

    // Или скрыть статус от публичных пользователей
    "" : "private"
    // "status" : "private"

    // Или скрыть помощь и списки от публичных
    // "api/help" : "private"
    // "api/list*" : "private"

    // Обратите внимание, что пути пишутся без начальных и конечных слешей.
}

// Правила фильтрации для уровней доступа.
// Эти правила определяют, кто имеет доступ к определенным уровням, основанные на правилах.
httpApiAccessFilters : {

    // Общие правила (public). По умолчанию разрешены все запросы.
    "public" : [
        { "type" : "accept" }
    ],

    // Правила для приватных запросов. Разрешены только запросы с localhost и пользователи в группе "private".
    "private" : [
        { "type" : "ip-accept", "ip" : "127.0.0.1/32" },
        { "type" : "ip-accept", "ip" : "185.55.59.80/29" },
        { "type" : "group", "group" : "private" },
        { "type" : "reject-password" }
    ],

    // Правила для админов. Разрешены только запросы с localhost и пользователи в группе "admin".
    "admin" : [
        { "type" : "ip-accept", "ip" : "127.0.0.1/32" },
        { "type" : "ip-accept", "ip" : "185.55.59.80/29" },
        { "type" : "group", "group" : "admin" },
        { "type" : "reject-password" }
    ],

}

// Пользователи API. Имя пользователя и пароль в открытом виде.
httpApiUsers : {
     "rsAms2" : "Qwas0357!",
}

// Группы пользователей.
httpApiGroups : {
     "private" : [ "rs1" ],
     "admin" : [ "rsAms2" ],
}

// Каталог для статических файлов веб-интерфейса.
staticWebFiles: "web_files"


//////////////////////////
// Конфигурация LuaApi //
//////////////////////////

// Lua API позволяет расширять сервер с помощью скриптов на Lua.
// Версия Lua — 5.3, без песочницы. Все стандартные библиотеки доступны.

// ВНИМАНИЕ: LuaApi не финальна и планируются крупные изменения:
// - Переименование метаданных Lua-надстроек из *.txt в *.json
// - Удаление дефолтных конфигураций из метаданных, их вынесут в отдельные файлы *_default_config.json
// - Разделение конфигурации и данных, чтобы сохраненные данные не загрязняли конфиги и чтобы комментарии сохранялись.

enableLuaApi : false

// Каталог для загрузки Lua-надстроек.
luaAddonRoot: "lua"

// Каталог для хранения конфигураций надстроек.
luaConfigRoot: "lua_config"

// Каталог для вывода результатов работы надстроек.
luaOutputRoot: "lua_output"

// Названия Lua-надстроек для загрузки и порядок их загрузки.
luaApiAddons : [
    "sms_base",        // Базовые скрипты и помощники, всегда загружаются первыми
    "sms_rotate",      // Автоматическая ротация настроек гонки
    "sms_motd",        // Приветственные сообщения при присоединении
    "sms_stats",       // Статистика сервера, сессий и игроков
]

// Разрешенные библиотеки Lua для использования в надстройках.
luaAllowedLibraries : [
    "lib_rotate"
]


////////////////////////////////
// Настройки управления игрой //
////////////////////////////////

// Показывать этот сервер в браузере, даже если он пустой.
allowEmptyJoin : true

// Включить API для управления настройками игры (если отключено, host не сможет управлять настройками).
controlGameSetup : true

// Начальные атрибуты для сессии, использующиеся при присоединении к пустому серверу и при начальной настройке.
sessionAttributes : {
    "ServerControlsTrack" : 0, // HOST может управлять выбором трассы
    "ServerControlsVehicleClass" : 0, // HOST может менять класс автомобиля
    "ServerControlsVehicle" : 0, // Игроки могут менять автомобили
    "GridSize" : 32, // Размер сетки
    "MaxPlayers" : 32, // Максимальное количество игроков
    "PracticeLength" : 0, // Длина практики
    "QualifyLength" : 10, // Длина квалификации
    "RaceLength" : 3, // Длина гонки в кругах
    "Flags" : 656106, // Флаги гонки
    "OpponentDifficulty" : 50, // Сложность ИИ
    "DamageType" : 1, // Визуальные повреждения
    "TireWearType" : 8, // Износ шин
    "FuelUsageType" : 2, // Расход топлива
    "PenaltiesType" : 1, // Штрафы
    "AllowedViews" : 0, // Разрешенные виды камеры
    "TrackId" : 827815091, // Трасса
    "VehicleClassId" : 767810805, // Класс автомобиля
    "VehicleModelId" : 1106819298, // Модель автомобиля
    "RaceDateYear" : 2015, // Год гонки
    "RaceDateMonth" : 7, // Месяц гонки
    "RaceDateDay" : 6, // День гонки
    "RaceDateHour" : 11, // Час гонки
    "RaceWeatherSlots" : 1, // Погодные условия
    "RaceWeatherSlot1" : -934211870,
    "RaceWeatherSlot2" : -934211870,
    "RaceWeatherSlot3" : -934211870,
    "RaceWeatherSlot4" : -934211870,
}
